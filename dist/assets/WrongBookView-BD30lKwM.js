import{_ as b,i as y,r as A,c as C,a as r,b as s,t as n,s as B,x as T,y as $,F as V,f as D,u as N,g as a,z as W,d as p}from"./index-vNCD4kpU.js";import{l as z}from"./learning_data-DU6Sy4pC.js";const M={class:"wrongbook-view"},Q={class:"wrongbook-header"},F={class:"subtitle"},S={key:0,class:"empty-state"},E={key:1,class:"wrong-list"},I={class:"card-header"},L={class:"category-tag"},O={class:"time"},R={class:"question-text"},j={class:"answers-section"},G={class:"your-answer wrong"},H={class:"value"},J={class:"correct-answer"},K={class:"value"},P={key:0,class:"explanation-section"},U=["onClick"],X={key:0,class:"explanation-content"},Y={class:"card-actions"},Z=["onClick"],q={__name:"WrongBookView",setup(ee){const _=N(),i=y(),l=A([]),d=C(()=>i.getWrongQuestions),f=e=>{if(e==="comprehensive")return"ç»¼åˆç»ƒä¹ ";const t=z.categories.find(c=>c.id===e);return t?t.name:"ç»ƒä¹ "},g=e=>{if(!e)return"";const t=new Date(e),o=new Date-t;return o<6e4?"åˆšåˆš":o<36e5?`${Math.floor(o/6e4)}åˆ†é’Ÿå‰`:o<864e5?`${Math.floor(o/36e5)}å°æ—¶å‰`:o<6048e5?`${Math.floor(o/864e5)}å¤©å‰`:`${t.getMonth()+1}/${t.getDate()}`},u=(e,t)=>e?t==="user"?e.userAnswerText?e.userAnswerText:e.options&&typeof e.userAnswer=="number"?e.options[e.userAnswer]||"æœªçŸ¥":e.userAnswer||"æœªçŸ¥":e.correctAnswerText?e.correctAnswerText:e.options&&typeof e.answer=="number"?e.options[e.answer]||"æœªçŸ¥":e.answer||"æœªçŸ¥":"æœªçŸ¥",v=e=>{const t=l.value.indexOf(e);t>-1?l.value.splice(t,1):l.value.push(e)},m=e=>{i.removeFromWrongBook(e)},w=()=>{confirm("ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰é”™é¢˜å—ï¼Ÿ")&&i.clearWrongBook()},x=()=>{_.push({name:"quiz",params:{category:"wrongbook"},query:{redo:"true"}})};return(e,t)=>{const c=$("router-link");return a(),r("div",M,[s("header",Q,[t[0]||(t[0]=s("h1",null,"ðŸ“ é”™é¢˜æœ¬",-1)),s("p",F,"å…± "+n(d.value.length)+" é“é”™é¢˜",1)]),d.value.length===0?(a(),r("div",S,[t[2]||(t[2]=s("div",{class:"empty-icon"},"ðŸŽ‰",-1)),t[3]||(t[3]=s("h2",null,"å¤ªæ£’äº†ï¼",-1)),t[4]||(t[4]=s("p",null,"ä½ è¿˜æ²¡æœ‰é”™é¢˜è®°å½•",-1)),B(c,{to:"/topics",class:"start-btn"},{default:T(()=>[...t[1]||(t[1]=[W("åŽ»ç»ƒä¹ ",-1)])]),_:1})])):(a(),r("div",E,[s("div",{class:"actions-bar"},[s("button",{class:"redo-all-btn",onClick:x}," ðŸ”„ é‡åšå…¨éƒ¨é”™é¢˜ "),s("button",{class:"clear-btn",onClick:w}," ðŸ—‘ï¸ æ¸…ç©º ")]),(a(!0),r(V,null,D(d.value,(o,h)=>(a(),r("div",{key:o.id||h,class:"wrong-card"},[s("div",I,[s("span",L,n(f(o.category)),1),s("span",O,n(g(o.timestamp)),1)]),s("div",R,n(o.question),1),s("div",j,[s("div",G,[t[5]||(t[5]=s("span",{class:"label"},"ä½ çš„ç­”æ¡ˆï¼š",-1)),s("span",H,n(u(o,"user")),1)]),s("div",J,[t[6]||(t[6]=s("span",{class:"label"},"æ­£ç¡®ç­”æ¡ˆï¼š",-1)),s("span",K,n(u(o,"correct")),1)])]),o.explanation?(a(),r("div",P,[s("button",{class:"toggle-explanation",onClick:k=>v(o.id)},n(l.value.includes(o.id)?"æ”¶èµ·è§£æž â–²":"æŸ¥çœ‹è§£æž â–¼"),9,U),l.value.includes(o.id)?(a(),r("div",X,[s("h4",null,n(o.explanation.title),1),s("p",null,n(o.explanation.content),1),s("pre",null,n(o.explanation.detail),1)])):p("",!0)])):p("",!0),s("div",Y,[s("button",{class:"action-btn",onClick:k=>m(o.id)}," ç§»é™¤ ",8,Z)])]))),128))]))])}}},oe=b(q,[["__scopeId","data-v-b389941c"]]);export{oe as default};
