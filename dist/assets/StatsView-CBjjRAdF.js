import{_ as S,i as k,c as d,a as n,b as s,d as f,h as y,t as o,F as h,f as m,g as c,n as C}from"./index-vNCD4kpU.js";import{l as M}from"./learning_data-DU6Sy4pC.js";const z={class:"stats-view"},D={class:"overall-stats"},$={class:"stat-card main"},x={class:"stat-value"},V={class:"stat-row"},A={class:"stat-card"},B={class:"stat-value"},N={class:"stat-card correct"},Q={class:"stat-value"},R={class:"stat-card wrong"},F={class:"stat-value"},j={key:0,class:"category-stats"},q={class:"category-list"},E={class:"category-info"},L={class:"category-name"},O={class:"category-count"},T={class:"category-progress"},W={class:"progress-bar"},G={class:"accuracy-text"},H={key:1,class:"recent-records"},J={class:"records-list"},K={class:"record-left"},P={class:"record-category"},U={class:"record-time"},X={class:"record-right"},Y={class:"record-accuracy"},Z={__name:"StatsView",setup(I){const i=k(),l=d(()=>i.getStats),u=d(()=>i.getCategoryStats),_=d(()=>i.getQuizRecords),v=a=>{if(a==="comprehensive")return"ç»¼åˆç»ƒä¹ ";if(a==="wrongbook")return"é”™é¢˜é‡åš";const t=M.categories.find(e=>e.id===a);return t?t.name:a},g=a=>{const t=a.correct+a.wrong;return t===0?0:Math.round(a.correct/t*100)},p=a=>a.total===0?0:Math.round(a.correct/a.total*100),b=a=>{if(!a)return"";const t=new Date(a),r=new Date-t;return r<6e4?"åˆšåˆš":r<36e5?`${Math.floor(r/6e4)}åˆ†é’Ÿå‰`:r<864e5?`${Math.floor(r/36e5)}å°æ—¶å‰`:r<6048e5?`${Math.floor(r/864e5)}å¤©å‰`:`${t.getMonth()+1}æœˆ${t.getDate()}æ—¥`},w=()=>{confirm("ç¡®å®šè¦é‡ç½®æ‰€æœ‰ç»Ÿè®¡æ•°æ®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚")&&i.resetStats()};return(a,t)=>(c(),n("div",z,[t[9]||(t[9]=s("header",{class:"stats-header"},[s("h1",null,"ğŸ“Š å­¦ä¹ ç»Ÿè®¡"),s("p",{class:"subtitle"},"æŸ¥çœ‹ä½ çš„å­¦ä¹ è¿›åº¦")],-1)),s("div",D,[s("div",$,[s("div",{class:"stat-circle",style:y({"--accuracy":l.value.accuracy})},[s("span",x,o(l.value.accuracy)+"%",1),t[0]||(t[0]=s("span",{class:"stat-label"},"æ­£ç¡®ç‡",-1))],4)]),s("div",V,[s("div",A,[t[1]||(t[1]=s("span",{class:"stat-icon"},"ğŸ“",-1)),s("span",B,o(l.value.totalQuestions),1),t[2]||(t[2]=s("span",{class:"stat-label"},"æ€»ç­”é¢˜",-1))]),s("div",N,[t[3]||(t[3]=s("span",{class:"stat-icon"},"âœ“",-1)),s("span",Q,o(l.value.totalCorrect),1),t[4]||(t[4]=s("span",{class:"stat-label"},"æ­£ç¡®",-1))]),s("div",R,[t[5]||(t[5]=s("span",{class:"stat-icon"},"âœ—",-1)),s("span",F,o(l.value.totalWrong),1),t[6]||(t[6]=s("span",{class:"stat-label"},"é”™è¯¯",-1))])])]),Object.keys(u.value).length>0?(c(),n("div",j,[t[7]||(t[7]=s("h2",{class:"section-title"},"ğŸ“š åˆ†ç±»è¿›åº¦",-1)),s("div",q,[(c(!0),n(h,null,m(u.value,(e,r)=>(c(),n("div",{key:r,class:"category-card"},[s("div",E,[s("span",L,o(v(r)),1),s("span",O,o(e.total)+"é¢˜",1)]),s("div",T,[s("div",W,[s("div",{class:"progress-fill",style:y({width:g(e)+"%"})},null,4)]),s("span",G,o(g(e))+"%",1)])]))),128))])])):f("",!0),_.value.length>0?(c(),n("div",H,[t[8]||(t[8]=s("h2",{class:"section-title"},"ğŸ• æœ€è¿‘ç»ƒä¹ ",-1)),s("div",J,[(c(!0),n(h,null,m(_.value.slice(0,10),e=>(c(),n("div",{key:e.id,class:"record-card"},[s("div",K,[s("span",P,o(v(e.category)),1),s("span",U,o(b(e.timestamp)),1)]),s("div",X,[s("span",{class:C(["record-score",{good:p(e)>=80}])},o(e.correct)+"/"+o(e.total),3),s("span",Y,o(p(e))+"%",1)])]))),128))])])):f("",!0),s("div",{class:"reset-section"},[s("button",{class:"reset-btn",onClick:w}," ğŸ—‘ï¸ é‡ç½®æ‰€æœ‰ç»Ÿè®¡æ•°æ® ")])]))}},as=S(Z,[["__scopeId","data-v-3b78074a"]]);export{as as default};
